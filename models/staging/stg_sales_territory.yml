version: 2

sources:
  - name: databricks_dw_aw
    database: "{{ var('DATABRICKS_CATALOG') }}"
    schema: "{{ var('DATABRICKS_SCHEMA_RAW') }}"
    tables:
      - name: raw_sqlserver_sales_salesterritory_db
        loaded_at_field: ModifiedDate

models:      
  - name: stg_sales_territory
    description: "Tabela de staging com os territórios de vendas"
    test:
      - not_null:
          column_name: territory_id
    Columns:
      - name: territory_id
        description: "ID do território de vendas"
      - name: territory_name
        description: "Nome do território de vendas"
      - name: country_region_code
        description: "Código da região do país"
      - name: territory_group
        description: "Grupo do território de vendas"
      - name: sales_ytd 
        description: "Vendas acumuladas no ano do território"
      - name: sales_last_year
        description: "Vendas do ano passado do território"
      - name: cost_last_year
        description: "Custo do ano passado do território"
      - name: row_guid
        description: "GUID da linha do território"
      - name: modified_date
        description: "Data de modificação do território"